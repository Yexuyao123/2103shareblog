{"version":3,"sources":["webpack:///./src/views/Login.vue?e117","webpack:///./src/views/Login.vue?3b47","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue","webpack:///./src/components/LoginAndRegister.vue?5d70","webpack:///./src/components/LoginAndRegister.vue?a45d","webpack:///src/components/LoginAndRegister.vue","webpack:///./src/components/LoginAndRegister.vue?d040","webpack:///./src/components/LoginAndRegister.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticRenderFns","name","components","created","$store","getters","isLogin","$router","push","decodeURIComponent","$route","query","prevUrl","component","_v","_s","showInfo","title","class","userName","error","on","$event","checkInputContent","checkName","model","value","callback","$$v","$set","expression","userPassword","checkPassword","method","action","status","_e","props","data","username","password","msg","computed","methods","loginAccount","registerCount","inputMsg","$message"],"mappings":"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","file":"yxy/js/chunk-e1c7ab80.dea8a5a2.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=707ec47d&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex-center\",attrs:{\"id\":\"login\"}},[_c('LoginBlock',{attrs:{\"msg\":\"Login\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"login\" class=\"flex-center\">\n    <LoginBlock msg=\"Login\"></LoginBlock>\n  </div>\n</template>\n\n<script>\nimport LoginBlock from \"@/components/LoginAndRegister.vue\";\n\nexport default {\n  name: \"Login\",\n  components: { LoginBlock },\n  created() {\n    if (this.$store.getters.isLogin) {\n      //如果有从哪个页面来的信息，就回到该页面去\n      this.$router.push(decodeURIComponent(this.$route.query.prevUrl || \"/\"));\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#login {\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=707ec47d&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=707ec47d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"707ec47d\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginAndRegister.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"loginBlock\"}},[_c('div',{staticClass:\"login-title flex-center font-size-l\"},[_c('span',[_vm._v(_vm._s(_vm.showInfo.title))])]),_c('span',{staticClass:\"name flex-center font-size-m\"},[_vm._v(\"用户名\")]),_c('el-input',{staticClass:\"name-input flex-center font-size-l\",class:{ 'input-error': _vm.userName.error },attrs:{\"placeholder\":\"请输入用户名\",\"maxlength\":15,\"minlength\":1,\"show-word-limit\":true,\"clearable\":\"\"},on:{\"blur\":function($event){return _vm.checkInputContent(_vm.checkName, _vm.userName)},\"focus\":function($event){_vm.userName.error = false}},model:{value:(_vm.userName.username),callback:function ($$v) {_vm.$set(_vm.userName, \"username\", $$v)},expression:\"userName.username\"}}),_c('span',{staticClass:\"password flex-center font-size-m\"},[_vm._v(\"密码\")]),_c('el-input',{staticClass:\"password-input flex-center\",class:{ 'input-error': _vm.userPassword.error },attrs:{\"placeholder\":\"请输入密码\",\"maxlength\":16,\"minlength\":6,\"show-word-limit\":true,\"show-password\":\"\"},on:{\"blur\":function($event){return _vm.checkInputContent(_vm.checkPassword, _vm.userPassword)},\"focus\":function($event){_vm.userPassword.error = false}},model:{value:(_vm.userPassword.password),callback:function ($$v) {_vm.$set(_vm.userPassword, \"password\", $$v)},expression:\"userPassword.password\"}}),_c('div',{staticClass:\"login-button flex-center\"},[_c('el-button',{staticClass:\"login-el-button\",attrs:{\"size\":\"medium\"},on:{\"click\":_vm.showInfo.method}},[_vm._v(_vm._s(_vm.showInfo.action))])],1),(_vm.showInfo.status === 'Login')?_c('div',{staticClass:\"login-tip flex-center\"},[_c('span',{staticClass:\"font-size-s gray\"},[_vm._v(\"没有账号？\")]),_c('router-link',{staticClass:\"font-size-s green\",attrs:{\"to\":\"/register\"}},[_vm._v(\"注册新用户\")])],1):_vm._e(),(_vm.showInfo.status === 'Register')?_c('div',{staticClass:\"login-tip flex-center\"},[_c('span',{staticClass:\"font-size-s gray\"},[_vm._v(\"已有账号？\")]),_c('router-link',{staticClass:\"font-size-s green\",attrs:{\"to\":\"/login\"}},[_vm._v(\"立即登录\")])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"loginBlock\">\n    <div class=\"login-title flex-center font-size-l\">\n      <span>{{ showInfo.title }}</span>\n    </div>\n    <span class=\"name flex-center font-size-m\">用户名</span>\n    <el-input\n      class=\"name-input flex-center font-size-l\"\n      placeholder=\"请输入用户名\"\n      :maxlength=\"15\"\n      :minlength=\"1\"\n      :show-word-limit=\"true\"\n      v-model=\"userName.username\"\n      clearable\n      @blur=\"checkInputContent(checkName, userName)\"\n      @focus=\"userName.error = false\"\n      :class=\"{ 'input-error': userName.error }\"\n    >\n    </el-input>\n    <span class=\"password flex-center font-size-m\">密码</span>\n    <el-input\n      class=\"password-input flex-center\"\n      placeholder=\"请输入密码\"\n      :maxlength=\"16\"\n      :minlength=\"6\"\n      :show-word-limit=\"true\"\n      v-model=\"userPassword.password\"\n      show-password\n      @blur=\"checkInputContent(checkPassword, userPassword)\"\n      @focus=\"userPassword.error = false\"\n      :class=\"{ 'input-error': userPassword.error }\"\n    ></el-input>\n    <div class=\"login-button flex-center\">\n      <el-button\n        class=\"login-el-button\"\n        size=\"medium\"\n        @click=\"showInfo.method\"\n        >{{ showInfo.action }}</el-button\n      >\n    </div>\n    <div v-if=\"showInfo.status === 'Login'\" class=\"login-tip flex-center\">\n      <span class=\"font-size-s gray\">没有账号？</span>\n      <router-link class=\"font-size-s green\" to=\"/register\"\n        >注册新用户</router-link\n      >\n    </div>\n    <div v-if=\"showInfo.status === 'Register'\" class=\"login-tip flex-center\">\n      <span class=\"font-size-s gray\">已有账号？</span>\n      <router-link class=\"font-size-s green\" to=\"/login\">立即登录</router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { login, register } from \"@/api/auth.js\";\nimport { checkUsername, checkUserPassword } from \"@/helpers/until.js\";\n// 事件名称\t说明\t回调参数\n// blur\t在 Input 失去焦点时触发\t(event: Event)\n// focus\t在 Input 获得焦点时触发\t(event: Event)\n// change\t仅在输入框失去焦点或用户按下回车时触发\t(value: string | number)\n// input\t在 Input 值改变时触发\t(value: string | number)\n// clear\t在点击由 clearable 属性生成的清空按钮时触发\nexport default {\n  name: \"LoginBlock\",\n  props: { msg: { type: String } },\n  data() {\n    return {\n      userName: {\n        username: \"\",\n        error: false,\n      },\n      userPassword: {\n        password: \"\",\n        error: false,\n      },\n      showInfo: {\n        status: null,\n        title: null,\n        action: null,\n        method: null,\n      },\n    };\n  },\n  created() {\n    if (this.msg === \"Login\")\n      this.showInfo = {\n        status: \"Login\",\n        title: \"账号密码登录\",\n        action: \"立即登录\",\n        method: this.loginAccount,\n      };\n    if (this.msg === \"Register\")\n      this.showInfo = {\n        status: \"Register\",\n        title: \"注册账号\",\n        action: \"立即注册\",\n        method: this.registerCount,\n      };\n  },\n  computed: {\n    checkName() {\n      return checkUsername(this.userName.username) || \"\";\n    },\n    checkPassword() {\n      return checkUserPassword(this.userPassword.password) || \"\";\n    },\n  },\n  methods: {\n    loginAccount() {\n      if (!this.checkName && !this.checkPassword) {\n        login({\n          username: this.userName.username,\n          password: this.userPassword.password,\n        })\n          .then((res) => {\n            if (res.status === \"ok\") {\n              this.$message({\n                message: res.msg,\n                type: \"success\",\n                duration: 5000,\n              });\n              location.reload();\n            } else if (res.status === \"fail\") {\n              this.$message({\n                type: \"error\",\n                message: res.msg,\n                duration: 5000,\n              });\n              if (/用户/.test(res.msg)) this.userName.error = true;\n              if (/密码/.test(res.msg)) this.userPassword.error = true;\n            }\n          })\n          .catch(() => {});\n      }\n    },\n    registerCount() {\n      if (!this.checkName && !this.checkPassword) {\n        register({\n          username: this.userName.username,\n          password: this.userPassword.password,\n        })\n          .then((res) => {\n            if (res.status === \"ok\") {\n              this.$router.push(\"/\");\n              this.$message({\n                message: res.msg,\n                type: \"success\",\n                duration: 5000,\n              });\n            } else if (res.status === \"fail\") {\n              this.$message({\n                type: \"error\",\n                message: res.msg,\n                duration: 5000,\n              });\n              if (/用户/.test(res.msg)) this.userName.error = true;\n              if (/密码/.test(res.msg)) this.userPassword.error = true;\n            }\n          })\n          .catch(() => {});\n      }\n    },\n    checkInputContent(inputMsg, msg) {\n      if (inputMsg) {\n        this.$message({ type: \"error\", message: inputMsg, duration: 5000 });\n        msg.error = true;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../CSS/base.scss\";\n\n#loginBlock {\n  width: 550px;\n  padding: 20px;\n  margin-top: 20px;\n  background-color: $white;\n  color: black;\n  border: $shadowGray 1px solid;\n  border-radius: 5px;\n  display: grid;\n  grid: auto auto auto auto auto/12% 1fr;\n  grid-gap: 20px;\n  .login-title {\n    grid-column: 1 / span 2;\n    grid-row: 1/2;\n    padding: 10px 0;\n  }\n  .name {\n    grid-column: 1/2;\n    grid-row: 2/3;\n  }\n  .el-input {\n    background-color: $white;\n  }\n  .name-input {\n    grid-column: 2/3;\n    grid-row: 2/3;\n  }\n  .password {\n    grid-column: 1/2;\n    grid-row: 3/4;\n  }\n  .password-input {\n    grid-column: 2/3;\n    grid-row: 3/4;\n  }\n  .login-button {\n    grid-column: 1 / span 2;\n    grid-row: 4/5;\n    .login-el-button {\n      margin: 5px 10px;\n      border-radius: 5px;\n      color: $green !important;\n    }\n    .login-el-button:hover {\n      color: $white !important;\n      background-color: $green;\n      //font-weight: bold;\n    }\n  }\n  .login-tip {\n    grid-column: 1 / span 2;\n    grid-row: 5/6;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginAndRegister.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginAndRegister.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginAndRegister.vue?vue&type=template&id=8e928818&\"\nimport script from \"./LoginAndRegister.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginAndRegister.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoginAndRegister.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}