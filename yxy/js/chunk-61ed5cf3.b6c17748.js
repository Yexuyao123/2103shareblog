(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61ed5cf3"],{"5bce":function(e,s,t){},a55b:function(e,s,t){"use strict";t.r(s);var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"flex-center",attrs:{id:"login"}},[t("LoginBlock",{attrs:{msg:"Login"}})],1)},r=[],o=t("d28f"),a={name:"Login",components:{LoginBlock:o["a"]},created:function(){this.$store.getters.isLogin&&this.$router.push(decodeURIComponent(this.$route.query.prevUrl||"/"))}},i=a,u=(t("e0c3"),t("2877")),c=Object(u["a"])(i,n,r,!1,null,"75043e8c",null);s["default"]=c.exports},ae98:function(e,s,t){},b46f:function(e,s,t){"use strict";t("ae98")},d28f:function(e,s,t){"use strict";var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"loginBlock"}},[t("div",{staticClass:"login-title flex-center font-size-l"},[t("span",[e._v(e._s(e.showInfo.title))])]),t("span",{staticClass:"name flex-center font-size-m"},[e._v("用户名")]),t("el-input",{staticClass:"name-input flex-center font-size-l",class:{"input-error":e.userName.error},attrs:{placeholder:"请输入用户名",maxlength:15,minlength:1,"show-word-limit":!0,clearable:""},on:{blur:function(s){return e.checkInputContent(e.checkName,e.userName)},focus:function(s){e.userName.error=!1}},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.showInfo.method(s)}},model:{value:e.userName.username,callback:function(s){e.$set(e.userName,"username",s)},expression:"userName.username"}}),t("span",{staticClass:"password flex-center font-size-m"},[e._v("密码")]),t("el-input",{staticClass:"password-input flex-center",class:{"input-error":e.userPassword.error},attrs:{placeholder:"请输入密码",maxlength:16,minlength:6,"show-word-limit":!0,"show-password":""},on:{blur:function(s){return e.checkInputContent(e.checkPassword,e.userPassword)},focus:function(s){e.userPassword.error=!1}},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.showInfo.method(s)}},model:{value:e.userPassword.password,callback:function(s){e.$set(e.userPassword,"password",s)},expression:"userPassword.password"}}),t("div",{staticClass:"login-button flex-center"},[t("el-button",{staticClass:"login-el-button",attrs:{size:"medium"},on:{click:e.showInfo.method}},[e._v(e._s(e.showInfo.action))])],1),"Login"===e.showInfo.status?t("div",{staticClass:"login-tip flex-center"},[t("span",{staticClass:"font-size-s gray"},[e._v("没有账号？")]),t("router-link",{staticClass:"font-size-s green",attrs:{to:"/register"}},[e._v("注册新用户")])],1):e._e(),"Register"===e.showInfo.status?t("div",{staticClass:"login-tip flex-center"},[t("span",{staticClass:"font-size-s gray"},[e._v("已有账号？")]),t("router-link",{staticClass:"font-size-s green",attrs:{to:"/login"}},[e._v("立即登录")])],1):e._e()],1)},r=[],o=t("3786"),a=t("6864"),i={name:"LoginBlock",props:{msg:{type:String}},data:function(){return{userName:{username:"",error:!1},userPassword:{password:"",error:!1},showInfo:{status:null,title:null,action:null,method:null}}},created:function(){"Login"===this.msg&&(this.showInfo={status:"Login",title:"账号密码登录",action:"立即登录",method:this.loginAccount}),"Register"===this.msg&&(this.showInfo={status:"Register",title:"注册账号",action:"立即注册",method:this.registerCount})},computed:{checkName:function(){return Object(a["e"])(this.userName.username)||""},checkPassword:function(){return Object(a["d"])(this.userPassword.password)||""}},methods:{loginAccount:function(){var e=this;this.checkName||this.checkPassword||Object(o["b"])({username:this.userName.username,password:this.userPassword.password}).then((function(s){"ok"===s.status?(e.$message({message:s.msg,type:"success",duration:5e3}),location.reload()):"fail"===s.status&&(e.$message({type:"error",message:s.msg,duration:5e3}),/用户/.test(s.msg)&&(e.userName.error=!0),/密码/.test(s.msg)&&(e.userPassword.error=!0))})).catch((function(){}))},registerCount:function(){var e=this;this.checkName||this.checkPassword||Object(o["d"])({username:this.userName.username,password:this.userPassword.password}).then((function(s){"ok"===s.status?(e.$router.push("/"),e.$message({message:s.msg,type:"success",duration:5e3})):"fail"===s.status&&(e.$message({type:"error",message:s.msg,duration:5e3}),/用户/.test(s.msg)&&(e.userName.error=!0),/密码/.test(s.msg)&&(e.userPassword.error=!0))})).catch((function(){}))},checkInputContent:function(e,s){e&&(this.$message({type:"error",message:e,duration:5e3}),s.error=!0)}}},u=i,c=(t("b46f"),t("2877")),l=Object(c["a"])(u,n,r,!1,null,null,null);s["a"]=l.exports},e0c3:function(e,s,t){"use strict";t("5bce")}}]);
//# sourceMappingURL=chunk-61ed5cf3.b6c17748.js.map